<p align="center">
  <img src="assets/hottgo-banner.png" alt="HoTTGo Banner" width="100%">
</p>

<h1 align="center">HoTTGo</h1>

<p align="center">
  <strong>Homotopy Type Theory in Go</strong>
</p>

<p align="center">
  <!-- CI/CD Status -->
  <a href="https://github.com/watchthelight/HypergraphGo/actions/workflows/ci-linux.yml"><img src="https://img.shields.io/github/actions/workflow/status/watchthelight/HypergraphGo/ci-linux.yml?branch=main&label=Linux&logo=linux&logoColor=white&style=flat-square" alt="Linux"></a>
  <a href="https://github.com/watchthelight/HypergraphGo/actions/workflows/ci-windows.yml"><img src="https://img.shields.io/github/actions/workflow/status/watchthelight/HypergraphGo/ci-windows.yml?branch=main&label=Windows&logo=windows&logoColor=white&style=flat-square" alt="Windows"></a>
  <a href="https://github.com/watchthelight/HypergraphGo/actions/workflows/go.yml"><img src="https://img.shields.io/github/actions/workflow/status/watchthelight/HypergraphGo/go.yml?branch=main&label=Tests&logo=go&logoColor=white&style=flat-square" alt="Tests"></a>
  <a href="https://github.com/watchthelight/HypergraphGo/actions/workflows/gh-pages.yml"><img src="https://img.shields.io/github/actions/workflow/status/watchthelight/HypergraphGo/gh-pages.yml?branch=main&label=Docs&logo=gitbook&logoColor=white&style=flat-square" alt="Docs"></a>
  <a href="https://github.com/watchthelight/HypergraphGo/security/code-scanning"><img src="https://img.shields.io/github/actions/workflow/status/watchthelight/HypergraphGo/codeql.yml?branch=main&label=CodeQL&logo=github&logoColor=white&style=flat-square" alt="CodeQL"></a>
</p>

<p align="center">
  <!-- Release & Project Info -->
  <a href="https://github.com/watchthelight/HypergraphGo/releases/latest"><img src="https://img.shields.io/github/v/release/watchthelight/HypergraphGo?sort=semver&label=Latest%20Release&style=flat-square&color=success" alt="Latest Release"></a>
  <img src="https://img.shields.io/github/release-date/watchthelight/HypergraphGo?label=Released&style=flat-square" alt="Release Date">
  <img src="https://img.shields.io/badge/Go-%3E%3D1.23-00ADD8?style=flat-square&logo=go&logoColor=white" alt="Go Version">
  <a href="https://github.com/watchthelight/HypergraphGo/stargazers"><img src="https://img.shields.io/github/stars/watchthelight/HypergraphGo?style=flat-square&color=gold" alt="Stars"></a>
  <a href="LICENSE.md"><img src="https://img.shields.io/github/license/watchthelight/HypergraphGo?style=flat-square" alt="License"></a>
</p>

<p align="center">
  <!-- Package Managers -->
  <a href="https://github.com/watchthelight/homebrew-tap"><img src="https://img.shields.io/badge/Homebrew-tap-FBB040?style=flat-square&logo=homebrew&logoColor=white" alt="Homebrew"></a>
  <a href="https://github.com/watchthelight/scoop-bucket"><img src="https://img.shields.io/badge/Scoop-bucket-5391FE?style=flat-square&logo=windows&logoColor=white" alt="Scoop"></a>
  <a href="https://community.chocolatey.org/packages/hypergraphgo"><img src="https://img.shields.io/chocolatey/v/hypergraphgo?label=Chocolatey&style=flat-square&logo=chocolatey&logoColor=white" alt="Chocolatey"></a>
  <a href="https://cloudsmith.io/~watchthelight/repos/hottgo/packages/"><img src="https://img.shields.io/badge/APT-Cloudsmith-2196F3?style=flat-square&logo=debian&logoColor=white" alt="APT/DEB"></a>
  <a href="https://aur.archlinux.org/packages/hypergraphgo-bin"><img src="https://img.shields.io/aur/version/hypergraphgo-bin?style=flat-square&logo=archlinux&logoColor=white&label=AUR" alt="AUR"></a>
  <a href="https://github.com/watchthelight/HypergraphGo/releases/latest"><img src="https://img.shields.io/badge/Binary-Download-4CAF50?style=flat-square&logo=github&logoColor=white" alt="Binary Download"></a>
</p>

<p align="center">
  <em>Because I love stats:</em>
</p>

<p align="center">
  <!-- Core metrics -->
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-version.json&style=flat-square" alt="Version">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-coverage.json&style=flat-square" alt="Coverage">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-tests.json&style=flat-square" alt="Tests">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-packages.json&style=flat-square" alt="Packages">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-loc.json&style=flat-square" alt="Lines of Code">
</p>

<p align="center">
  <!-- File structure -->
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-files.json&style=flat-square" alt="Files">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-go-files.json&style=flat-square" alt="Go Files">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-source-files.json&style=flat-square" alt="Source">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-test-files.json&style=flat-square" alt="Test Files">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-folders.json&style=flat-square" alt="Folders">
</p>

<p align="center">
  <!-- Code breakdown -->
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-functions.json&style=flat-square" alt="Functions">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-structs.json&style=flat-square" alt="Structs">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-test-funcs.json&style=flat-square" alt="Test Funcs">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-benchmarks.json&style=flat-square" alt="Benchmarks">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-deps.json&style=flat-square" alt="Dependencies">
</p>

<p align="center">
  <!-- Architecture -->
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-kernel.json&style=flat-square" alt="Kernel">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-internal.json&style=flat-square" alt="Internal">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-examples.json&style=flat-square" alt="Examples">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-workflows.json&style=flat-square" alt="Workflows">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-cli.json&style=flat-square" alt="CLI Commands">
</p>

<p align="center">
  <!-- Vitals -->
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-commits.json&style=flat-square" alt="Commits">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-releases.json&style=flat-square" alt="Releases">
  <img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-age.json&style=flat-square" alt="Age">
  <a href="ROADMAP.md"><img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/watchthelight/360ef2e37a5b16d895ee5f947ad23df1/raw/badge-todos.json&style=flat-square" alt="TODOs"></a>
</p>

---

A standalone cubical type theory kernel, about 17K lines of Go. Small enough to read, complete enough to use. Univalence computes. HITs reduce. Compiles to a single binary with no runtime dependencies.

Why Go? Single-binary deployment, fast compilation, and the code is readable if you don't know ML-family languages. Good for embedding in other tools.

## Who This Is For

- **PL researchers** who want to study cubical type theory without fighting a proof assistant's elaborator
- **Tool builders** who need a type theory backend they can actually embed and control
- **HoTT learners** who want to see how the internals work: NbE, bidirectional checking, path types
- **Go developers** curious about dependent types
- **Anyone who wants a kernel**, not a proof assistantâ€”if you're building your own tooling on top, this is the layer you'd otherwise have to write yourself

## What's Here

**HoTT Kernel** â€” A from-scratch cubical type theory: NbE-based normalization, bidirectional type checking, identity types, path types, Glue types, composition, transport, HITs.

**Hypergraph Library** â€” Generic hypergraph operations in Go. Vertices, edges, transforms (dual, 2-section, line graph), algorithms (BFS, hitting set, coloring).

## The HoTT Kernel

The implementation follows the same general approach as cooltt, redtt, and Andras Kovacs' elaboration-zoo: NbE for normalization, closure-based semantic domain, de Bruijn indices in core. The difference is scopeâ€”this is a kernel only, not a proof assistant. No elaborator, no tactic language, no implicit arguments. You get the type theory and nothing else, which makes it easier to understand and easier to build on.

### Quickstart

```bash
# Synthesize the type of a reflexivity proof
$ hottgo -synth "(Refl (Global Nat) (Global zero))"
(Refl Nat zero) : (Id Nat zero zero)

# Construct a path and apply it at an endpoint
$ hottgo -eval "(PathApp (PathLam i (Global zero)) i0)"
zero

# Check that Type has a universe level
$ hottgo -synth "Type"
Type : (Sort 1)
```

The syntax is S-expressions with explicit de Bruijn indices. `(Global x)` references a defined name, `(Var n)` references a bound variable. Built-in types include `Nat`, `Bool`, and the interval `I` with endpoints `i0`, `i1`.

### Implemented

**Computational Univalence**

`ua` converts equivalences to paths. When you apply a ua-path at an intermediate point, you get a Glue typeâ€”not a stuck term. Transport along `ua e` actually uses `e` to move data across. No axioms blocking computation.

```
ua A B e : Path Type A B
(ua e) @ i0 = A
(ua e) @ i1 = B
(ua e) @ i = Glue B [(i=0) â†¦ (A, e)]
```

**Glue Types**

The mechanism behind univalence. Glue types let you attach a type `T` to a base type `A` along a face, mediated by an equivalence. Composition through Glue types computesâ€”you get actual normal forms, not neutral terms waiting for more information.

**Composition & Transport**

`comp`, `hcomp`, `fill`, `transport`. Transport through a constant family reduces to the identity. Composition in Î , Î£, Path types computes.

**Higher Inductive Types**

Path constructors that compute. The circle SÂ¹ with `loop : Path SÂ¹ base base`. Propositional truncation. Suspensions. Quotients.

**Inductives & Eliminators**

User-defined inductive types with automatic eliminator generation. Parameterized types like `List A`, indexed types like `Vec A n`, mutual recursion like Even/Odd. Strict positivity checking. Generic recursor reduction.

**Bidirectional Type Checking**

`Synth` infers, `Check` verifies, errors come back with source spans and structured information. The kernel boundary is cleanâ€”parsing, name resolution, elaboration happen outside; the kernel only sees well-formed core terms.

### Technical Details

| Feature | Implementation |
|---------|----------------|
| Normalization | NbE with closure-based domain |
| Equality | Conversion by normalization + structural compare |
| Binding | De Bruijn indices (core), names (surface) |
| Identity | Martin-LÃ¶f Id with J eliminator |
| Paths | `Path A x y`, `PathP A x y`, `<i> t`, `p @ r` |
| Interval | `I` with `i0`, `i1`, meets, joins, connections |
| Faces | `(i=0)`, `(i=1)`, `Ï†âˆ§Ïˆ`, `Ï†âˆ¨Ïˆ`, partial types |
| Glue | `Glue A [Ï† â†¦ (T,e)]`, `glue`, `unglue` |
| Universes | Predicative cumulative tower, explicit levels |

## Hypergraph Library

Hypergraphs generalize graphsâ€”edges connect any number of vertices, not just two. The library is generic over vertex types, provides standard transforms, and includes common algorithms.

```go
hg := hypergraph.NewHypergraph[string]()
hg.AddEdge("E1", []string{"A", "B", "C"})
hg.AddEdge("E2", []string{"B", "C", "D"})

dual := hg.Dual()           // swap vertices and edges
section := hg.TwoSection()  // project to ordinary graph
```

Algorithms: BFS/DFS traversal, connected components, greedy hitting set, minimal transversals, vertex coloring.

## Installation

### Go Module

```bash
go get github.com/watchthelight/hypergraphgo
```

### Homebrew (macOS/Linux)

```bash
brew install watchthelight/tap/hypergraphgo
```

### APT (Debian/Ubuntu)

```bash
curl -1sLf 'https://dl.cloudsmith.io/public/watchthelight/hottgo/setup.deb.sh' | sudo -E bash
sudo apt install hypergraphgo
```

### Other

[![AUR](https://img.shields.io/aur/version/hypergraphgo-bin?label=AUR&logo=archlinux&style=flat-square)](https://aur.archlinux.org/packages/hypergraphgo-bin)
[![choco](https://img.shields.io/chocolatey/v/hypergraphgo?label=choco&style=flat-square)](https://community.chocolatey.org/packages/hypergraphgo)

Or grab a binary from [releases](https://github.com/watchthelight/HypergraphGo/releases/latest).

## CLI

### `hg` â€” Hypergraph Operations

```bash
hg new -o graph.json              # create empty hypergraph
hg add-edge -f graph.json -id E1 -m A,B,C
hg dual -f graph.json -o dual.json
hg bfs -f graph.json -start A
hg repl                           # interactive mode
```

22 commands covering creation, modification, transforms, algorithms, and REPL.

### `hottgo` â€” Type Checking & Proofs

```bash
hottgo --check FILE       # type-check a file
hottgo --eval EXPR        # evaluate expression
hottgo --synth EXPR       # synthesize type
hottgo --load FILE        # verify tactic script
```

REPL mode with `:eval`, `:synth`, `:prove TYPE`, `:quit`. Interactive proof mode supports tactics like `intro`, `assumption`, `reflexivity`, `destruct`, `induction`, and more.

## Architecture

Design docs: [`DESIGN.md`](DESIGN.md), [`DIAGRAMS.md`](DIAGRAMS.md)

The kernel (`kernel/`) is about 6.7K lines across 17 filesâ€”minimal, total, panic-free. De Bruijn indices only. NbE conversion with no ad-hoc reductions. Strict positivity validation. Everything outside the kernel (parsing, elaboration, tactics) gets re-checked after expansion. The supporting code in `internal/` adds another 7K lines for AST, evaluation, and parsing.

## Roadmap

| Phase | Status | Description |
|-------|--------|-------------|
| 0-3 | âœ… | Foundation: syntax, NbE, type checking |
| 4 | âœ… | Identity types + Cubical path types |
| 5 | âœ… | Inductives, recursors, positivity |
| 6 | âœ… | Computational univalence (Glue, comp, ua) |
| 7 | âœ… | Higher Inductive Types |
| 8 | âœ… | Elaboration and tactics |
| **9** | **âœ…** | **Standard library & proof mode** |
| 10 | ðŸ“‹ | Performance, soundness, packaging |

Current: **v1.9.0** â€” Phase 9 complete. Standard library (Unit, Empty, Sum, List), interactive proof mode, tactic scripts.

See **[ROADMAP.md](ROADMAP.md)** for detailed project status, architecture, and future plans.

## Contributing

Read [`CONTRIBUTING.md`](CONTRIBUTING.md). Short version:

- Small PRs. One change per PR.
- Tests required. No exceptions.
- CHANGELOG entry required.
- Kernel boundaries are sacred.

Hot take? Open an issue first.

## License

MIT Â© 2025 [watchthelight](https://github.com/watchthelight)

See [`LICENSE.md`](LICENSE.md).
